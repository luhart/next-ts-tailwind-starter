/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "utils_repo-context_tsx";
exports.ids = ["utils_repo-context_tsx"];
exports.modules = {

/***/ "./utils/repo-context.tsx":
/*!********************************!*\
  !*** ./utils/repo-context.tsx ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ RepoContextProvider; },\n/* harmony export */   \"RepoContextProvider\": function() { return /* binding */ RepoContextProvider; },\n/* harmony export */   \"useRepos\": function() { return /* binding */ useRepos; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _jsxFileName = \"/Users/shlook/Dev/next-ts-tailwind-starter/utils/repo-context.tsx\";\n// Referenced for useContext + TS: https://kentcdodds.com/blog/how-to-use-react-context-effectively\n\nconst RepoContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n\nfunction repoReducer(state, action) {\n  switch (action.type) {\n    case 'add_or_update':\n      {\n        const matchedRepo = state.find(repo => repo.owner === action.repo.owner && repo.repoName === action.repo.repoName);\n\n        if (matchedRepo) {\n          if (matchedRepo.tagName === action.repo.tagName) {\n            return [...state];\n          } else {\n            const matchedRepoIndex = state.findIndex(repo => repo.owner === action.repo.owner && repo.repoName === action.repo.repoName);\n            action.repo.unread = true;\n            const newState = state;\n            newState[matchedRepoIndex] = action.repo;\n            return [...newState];\n          }\n        } else {\n          action.repo.unread = true;\n          return [action.repo, ...state];\n        }\n      }\n\n    case 'delete':\n      {\n        // TODO: filter for and remove action.repo from localStorage\n        return state.filter(repo => repo.owner + repo.repoName !== action.repo.owner + action.repo.repoName);\n      }\n\n    case 'mark_read':\n      {\n        action.repo.unread = false;\n        const newState = state.map(repo => repo.owner + repo.repoName === action.repo.owner + action.repo.repoName && action.repo || repo);\n        return [...newState];\n      }\n\n    default:\n      {\n        throw new Error(`Undefined action type: ${action.type}`);\n      }\n  }\n}\n\nfunction RepoContextProvider({\n  children\n}) {\n  const {\n    0: state,\n    1: dispatch\n  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useReducer)(repoReducer, [], () => {\n    const localRepoData = localStorage.getItem('repos');\n    return localRepoData ? JSON.parse(localRepoData) : [];\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    localStorage.setItem('repos', JSON.stringify(state));\n  }, [state]);\n  const value = {\n    state,\n    dispatch\n  };\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RepoContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 10\n  }, this);\n}\n\nfunction useRepos() {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(RepoContext);\n\n  if (context === undefined) {\n    throw new Error('useCount must be used within a RepoContextProvider');\n  }\n\n  return context;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93aXRoLXR5cGVzY3JpcHQvLi91dGlscy9yZXBvLWNvbnRleHQudHN4Pzg4ZjgiXSwibmFtZXMiOlsiUmVwb0NvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidW5kZWZpbmVkIiwicmVwb1JlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJtYXRjaGVkUmVwbyIsImZpbmQiLCJyZXBvIiwib3duZXIiLCJyZXBvTmFtZSIsInRhZ05hbWUiLCJtYXRjaGVkUmVwb0luZGV4IiwiZmluZEluZGV4IiwidW5yZWFkIiwibmV3U3RhdGUiLCJmaWx0ZXIiLCJtYXAiLCJFcnJvciIsIlJlcG9Db250ZXh0UHJvdmlkZXIiLCJjaGlsZHJlbiIsImRpc3BhdGNoIiwidXNlUmVkdWNlciIsImxvY2FsUmVwb0RhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwidXNlRWZmZWN0Iiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInZhbHVlIiwidXNlUmVwb3MiLCJjb250ZXh0IiwidXNlQ29udGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQVFBLE1BQU1BLFdBQVcsZ0JBQUdDLG9EQUFhLENBQXVEQyxTQUF2RCxDQUFqQzs7QUFFQSxTQUFTQyxXQUFULENBQXFCQyxLQUFyQixFQUF1Q0MsTUFBdkMsRUFBa0U7QUFDaEUsVUFBUUEsTUFBTSxDQUFDQyxJQUFmO0FBQ0UsU0FBSyxlQUFMO0FBQXNCO0FBQ3BCLGNBQU1DLFdBQVcsR0FBR0gsS0FBSyxDQUFDSSxJQUFOLENBQ2pCQyxJQUFELElBQVVBLElBQUksQ0FBQ0MsS0FBTCxLQUFlTCxNQUFNLENBQUNJLElBQVAsQ0FBWUMsS0FBM0IsSUFBb0NELElBQUksQ0FBQ0UsUUFBTCxLQUFrQk4sTUFBTSxDQUFDSSxJQUFQLENBQVlFLFFBRDFELENBQXBCOztBQUdBLFlBQUlKLFdBQUosRUFBaUI7QUFDZixjQUFJQSxXQUFXLENBQUNLLE9BQVosS0FBd0JQ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QTJCO0FBQ3pCLFVBQU0sSUFBSWlCLEtBQUosQ0FBVSxvREFBVixDQUFOO0FBQ0Q7O0FBQ0QsU0FBT2UsT0FBUDtBQUNEIiwiZmlsZSI6Ii4vdXRpbHMvcmVwby1jb250ZXh0LnRzeC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFJlZmVyZW5jZWQgZm9yIHVzZUNvbnRleHQgKyBUUzogaHR0cHM6Ly9rZW50Y2RvZGRzLmNvbS9ibG9nL2hvdy10by11c2UtcmVhY3QtY29udGV4dC1lZmZlY3RpdmVseVxuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VSZWR1Y2VyLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFJlcG8gfSBmcm9tICcuLi9pbnRlcmZhY2VzJ1xuXG50eXBlIEFjdGlvbiA9IHsgdHlwZTogc3RyaW5nOyByZXBvOiBSZXBvIH1cbnR5cGUgRGlzcGF0Y2ggPSAoYWN0aW9uOiBBY3Rpb24pID0+IHZvaWRcbnR5cGUgUmVwb1N0YXRlID0gUmVwb1tdXG50eXBlIFJlcG9Qcm92aWRlclByb3BzID0geyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH1cblxuY29uc3QgUmVwb0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PHsgc3RhdGU6IFJlcG9TdGF0ZTsgZGlzcGF0Y2g6IERpc3BhdGNoIH0gfCB1bmRlZmluZWQ+KHVuZGVmaW5lZClcblxuZnVuY3Rpb24gcmVwb1JlZHVjZXIoc3RhdGU6IFJlcG9TdGF0ZSwgYWN0aW9uOiBBY3Rpb24pOiBSZXBvU3RhdGUge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnYWRkX29yX3VwZGF0ZSc6IHtcbiAgICAgIGNvbnN0IG1hdGNoZWRSZXBvID0gc3RhdGUuZmluZChcbiAgICAgICAgKHJlcG8pID0+IHJlcG8ub3duZXIgPT09IGFjdGlvbi5yZXBvLm93bmVyICYmIHJlcG8ucmVwb05hbWUgPT09IGFjdGlvbi5yZXBvLnJlcG9OYW1lXG4gICAgICApXG4gICAgICBpZiAobWF0Y2hlZFJlcG8pIHtcbiAgICAgICAgaWYgKG1hdGNoZWRSZXBvLnRhZ05hbWUgPT09IGFjdGlvbi5yZXBvLnRhZ05hbWUpIHtcbiAgICAgICAgICByZXR1cm4gWy4uLnN0YXRlXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG1hdGNoZWRSZXBvSW5kZXggPSBzdGF0ZS5maW5kSW5kZXgoXG4gICAgICAgICAgICAocmVwbykgPT4gcmVwby5vd25lciA9PT0gYWN0aW9uLnJlcG8ub3duZXIgJiYgcmVwby5yZXBvTmFtZSA9PT0gYWN0aW9uLnJlcG8ucmVwb05hbWVcbiAgICAgICAgICApXG4gICAgICAgICAgYWN0aW9uLnJlcG8udW5yZWFkID0gdHJ1ZVxuICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0gc3RhdGVcbiAgICAgICAgICBuZXdTdGF0ZVttYXRjaGVkUmVwb0luZGV4XSA9IGFjdGlvbi5yZXBvXG4gICAgICAgICAgcmV0dXJuIFsuLi5uZXdTdGF0ZV1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aW9uLnJlcG8udW5yZWFkID0gdHJ1ZVxuICAgICAgICByZXR1cm4gW2FjdGlvbi5yZXBvLCAuLi5zdGF0ZV1cbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSAnZGVsZXRlJzoge1xuICAgICAgLy8gVE9ETzogZmlsdGVyIGZvciBhbmQgcmVtb3ZlIGFjdGlvbi5yZXBvIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICByZXR1cm4gc3RhdGUuZmlsdGVyKFxuICAgICAgICAocmVwbykgPT4gcmVwby5vd25lciArIHJlcG8ucmVwb05hbWUgIT09IGFjdGlvbi5yZXBvLm93bmVyICsgYWN0aW9uLnJlcG8ucmVwb05hbWVcbiAgICAgIClcbiAgICB9XG4gICAgY2FzZSAnbWFya19yZWFkJzoge1xuICAgICAgYWN0aW9uLnJlcG8udW5yZWFkID0gZmFsc2VcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gc3RhdGUubWFwKFxuICAgICAgICAocmVwbykgPT5cbiAgICAgICAgICAocmVwby5vd25lciArIHJlcG8ucmVwb05hbWUgPT09IGFjdGlvbi5yZXBvLm93bmVyICsgYWN0aW9uLnJlcG8ucmVwb05hbWUgJiZcbiAgICAgICAgICAgIGFjdGlvbi5yZXBvKSB8fFxuICAgICAgICAgIHJlcG9cbiAgICAgIClcbiAgICAgIHJldHVybiBbLi4ubmV3U3RhdGVdXG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5kZWZpbmVkIGFjdGlvbiB0eXBlOiAke2FjdGlvbi50eXBlfWApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlcG9Db250ZXh0UHJvdmlkZXIoeyBjaGlsZHJlbiB9OiBSZXBvUHJvdmlkZXJQcm9wcyk6IEpTWC5FbGVtZW50IHtcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKHJlcG9SZWR1Y2VyLCBbXSwgKCkgPT4ge1xuICAgIGNvbnN0IGxvY2FsUmVwb0RhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmVwb3MnKVxuICAgIHJldHVybiBsb2NhbFJlcG9EYXRhID8gSlNPTi5wYXJzZShsb2NhbFJlcG9EYXRhKSA6IFtdXG4gIH0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVwb3MnLCBKU09OLnN0cmluZ2lmeShzdGF0ZSkpXG4gIH0sIFtzdGF0ZV0pXG5cbiAgY29uc3QgdmFsdWUgPSB7IHN0YXRlLCBkaXNwYXRjaCB9XG4gIHJldHVybiA8UmVwb0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9SZXBvQ29udGV4dC5Qcm92aWRlcj5cbn1cblxuZnVuY3Rpb24gdXNlUmVwb3MoKTogeyBzdGF0ZTogUmVwb1N0YXRlOyBkaXNwYXRjaDogRGlzcGF0Y2ggfSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFJlcG9Db250ZXh0KVxuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VDb3VudCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgUmVwb0NvbnRleHRQcm92aWRlcicpXG4gIH1cbiAgcmV0dXJuIGNvbnRleHRcbn1cblxuZXhwb3J0IHsgUmVwb0NvbnRleHRQcm92aWRlciwgdXNlUmVwb3MgfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/repo-context.tsx\n");

/***/ })

};
;